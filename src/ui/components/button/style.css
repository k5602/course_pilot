/* === BUTTON COMPONENT STYLES === */

.button {
    /* Base button styles */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-2);

    /* Typography */
    font-family: inherit;
    font-weight: var(--font-weight-medium);
    font-size: var(--font-size-base);
    line-height: var(--line-height-normal);
    text-decoration: none;
    white-space: nowrap;

    /* Layout */
    border: 1px solid transparent;
    border-radius: var(--radius-md);
    cursor: pointer;
    outline: none;

    /* Transitions */
    transition:
        background-color var(--transition-fast),
        border-color var(--transition-fast),
        color var(--transition-fast),
        box-shadow var(--transition-fast),
        transform var(--transition-fast);

    /* Accessibility */
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;

    /* Focus management */
    position: relative;
}

.button:focus-visible {
    box-shadow: var(--focus-ring);
    z-index: 1;
}

.button:active {
    transform: scale(0.97);
}

.button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    pointer-events: none;
}

/* === SIZE VARIANTS === */

.button--sm {
    padding: var(--spacing-2) var(--spacing-3);
    font-size: var(--font-size-sm);
    min-height: 2.25rem; /* 36px */
    min-width: 2.25rem;
}

.button--md {
    padding: var(--spacing-3) var(--spacing-4);
    font-size: var(--font-size-base);
    min-height: 2.75rem; /* 44px */
    min-width: 2.75rem;
}

.button--lg {
    padding: var(--spacing-4) var(--spacing-6);
    font-size: var(--font-size-lg);
    min-height: 3rem; /* 48px */
    min-width: 3rem;
}

/* === STYLE VARIANTS === */

/* Primary Button */
.button--primary {
    background-color: var(--btn-primary-bg);
    color: var(--btn-primary-text);
    border-color: var(--btn-primary-border);
    box-shadow: var(--shadow-sm);
}

.button--primary:hover:not(:disabled) {
    background-color: var(--btn-primary-bg-hover);
    box-shadow: var(--shadow-md);
    transform: translateY(-1px);
}

.button--primary:active:not(:disabled) {
    transform: translateY(0) scale(0.97);
    box-shadow: var(--shadow-sm);
}

/* Secondary Button */
.button--secondary {
    background-color: var(--btn-secondary-bg);
    color: var(--btn-secondary-text);
    border-color: var(--btn-secondary-border);
    box-shadow: var(--shadow-sm);
}

.button--secondary:hover:not(:disabled) {
    background-color: var(--btn-secondary-bg-hover);
    box-shadow: var(--shadow-md);
}

.button--secondary:active:not(:disabled) {
    transform: scale(0.97);
    box-shadow: var(--shadow-sm);
}

/* Outline Button */
.button--outline {
    background-color: var(--btn-outline-bg);
    color: var(--btn-outline-text);
    border-color: var(--btn-outline-border);
}

.button--outline:hover:not(:disabled) {
    background-color: var(--btn-outline-bg-hover);
}

.button--outline:active:not(:disabled) {
    transform: scale(0.97);
}

/* Ghost Button */
.button--ghost {
    background-color: var(--btn-ghost-bg);
    color: var(--btn-ghost-text);
    border-color: var(--btn-ghost-border);
}

.button--ghost:hover:not(:disabled) {
    background-color: var(--btn-ghost-bg-hover);
}

.button--ghost:active:not(:disabled) {
    transform: scale(0.97);
}

/* Destructive Button */
.button--destructive {
    background-color: var(--btn-destructive-bg);
    color: var(--btn-destructive-text);
    border-color: var(--btn-destructive-border);
    box-shadow: var(--shadow-sm);
}

.button--destructive:hover:not(:disabled) {
    background-color: var(--btn-destructive-bg-hover);
    box-shadow: var(--shadow-md);
}

.button--destructive:active:not(:disabled) {
    transform: scale(0.97);
    box-shadow: var(--shadow-sm);
}

/* === ICON BUTTONS === */

.button--icon-only {
    padding: var(--spacing-2);
    min-width: auto;
}

.button--icon-only.button--sm {
    padding: var(--spacing-1);
}

.button--icon-only.button--lg {
    padding: var(--spacing-3);
}

.button__icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.button__icon--left {
    margin-right: var(--spacing-2);
}

.button__icon--right {
    margin-left: var(--spacing-2);
}

.button--sm .button__icon--left {
    margin-right: var(--spacing-1);
}

.button--sm .button__icon--right {
    margin-left: var(--spacing-1);
}

/* === LOADING STATE === */

.button--loading {
    position: relative;
    pointer-events: none;
}

.button--loading .button__content {
    opacity: 0;
}

.button--loading .button__spinner {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 1rem;
    height: 1rem;
    border: 2px solid transparent;
    border-top: 2px solid currentColor;
    border-radius: 50%;
    animation: button-spin 1s linear infinite;
}

@keyframes button-spin {
    0% {
        transform: translate(-50%, -50%) rotate(0deg);
    }
    100% {
        transform: translate(-50%, -50%) rotate(360deg);
    }
}

/* === BUTTON GROUPS === */

.button-group {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-2);
}

.button-group--connected {
    gap: 0;
}

.button-group--connected .button:not(:first-child) {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    border-left: none;
}

.button-group--connected .button:not(:last-child) {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.button-group--connected .button:not(:first-child):not(:last-child) {
    border-radius: 0;
}

.button-group--vertical {
    flex-direction: column;
}

.button-group--vertical.button-group--connected .button:not(:first-child) {
    border-top-left-radius: 0;
    border-top-right-radius: 0;
    border-top: none;
    border-left: 1px solid var(--btn-secondary-border);
}

.button-group--vertical.button-group--connected .button:not(:last-child) {
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
}

/* === RESPONSIVE DESIGN === */

@media (max-width: 640px) {
    .button {
        font-size: clamp(var(--font-size-sm), 2vw, var(--font-size-base));
    }

    .button--sm {
        padding: var(--spacing-2) var(--spacing-3);
    }

    .button--md {
        padding: var(--spacing-3) var(--spacing-4);
    }

    .button--lg {
        padding: var(--spacing-4) var(--spacing-5);
    }
}

/* === HIGH CONTRAST MODE === */

@media (prefers-contrast: high) {
    .button {
        border-width: 2px;
    }

    .button--outline {
        border-width: 2px;
    }

    .button:focus-visible {
        outline: 2px solid currentColor;
        outline-offset: 2px;
    }
}

/* === REDUCED MOTION === */

@media (prefers-reduced-motion: reduce) {
    .button {
        transition: none;
    }

    .button:hover {
        transform: none;
    }

    .button:active {
        transform: none;
    }

    .button__spinner {
        animation: none;
    }
}

/* === PRINT STYLES === */

@media print {
    .button {
        border: 1px solid var(--text-primary) !important;
        color: var(--text-primary) !important;
        background: none !important;
        box-shadow: none !important;
    }
}
